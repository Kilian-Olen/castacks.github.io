


<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Image Sharing - AirLab</title>
    
    <link rel="stylesheet" href="/assets/css/app.css">

    <link rel="shortcut icon" type="image/ico" href="/img/favicon/favicon.ico" />

    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/img/favicon/site.webmanifest">
    <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#cc002b">
    <meta name="msapplication-TileColor" content="#b91d47">
    <meta name="theme-color" content="#ffffff">

    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  
  

    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Image Sharing | AirLab</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Image Sharing" />
<meta name="author" content="John Keller" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Image Sharing" />
<meta property="og:description" content="Image Sharing" />
<link rel="canonical" href="https://theairlab.org/research/2023/10/26/image_sharing/" />
<meta property="og:url" content="https://theairlab.org/research/2023/10/26/image_sharing/" />
<meta property="og:site_name" content="AirLab" />
<meta property="og:image" content="https://theairlab.org/img/posts/2023-10-26-image_sharing/image_sharing.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-10-26T10:50:07+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://theairlab.org/img/posts/2023-10-26-image_sharing/image_sharing.png" />
<meta property="twitter:title" content="Image Sharing" />
<script type="application/ld+json">
{"image":"https://theairlab.org/img/posts/2023-10-26-image_sharing/image_sharing.png","author":{"@type":"Person","name":"John Keller"},"headline":"Image Sharing","dateModified":"2023-10-26T10:50:07+00:00","datePublished":"2023-10-26T10:50:07+00:00","description":"Image Sharing","url":"https://theairlab.org/research/2023/10/26/image_sharing/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://theairlab.org/research/2023/10/26/image_sharing/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ERWFHDG4GX"></script>
<script>
  window['ga-disable-G-ERWFHDG4GX'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ERWFHDG4GX');
</script><!-- head scripts --><!-- Added by Chen -->
    <script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=5ee902d30e78e50012567eb4&product=inline-follow-buttons&cms=sop' async='async'></script>

    <!-- for mathjax support -->
    

</head>

<body>
    
        
<nav class="navbar is-primary" >
    <div class="container">
        <div class="navbar-brand">
            <a href="/" class="navbar-item navbar-logo">
                AirLab
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu">
            <div class="navbar-start">
                <a href="/" class="navbar-item ">Home</a>
                
                
                    
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a href="/current-members/" class="navbar-link ">Team</a>
                        <div class="navbar-dropdown">
                            
                            <a href="/current-members/" class="navbar-item ">Current Members</a>
                            
                            <a href="/alumni/" class="navbar-item ">Alumni</a>
                            
                        </div>
                    </div>
                    
                
                    
                    <a href="/research/" class="navbar-item ">Research</a>
                    
                
                    
                    <a href="/publications/" class="navbar-item ">Publications</a>
                    
                
                    
                    <a href="/news/" class="navbar-item ">News</a>
                    
                
                    
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a href="" class="navbar-link ">Seminars</a>
                        <div class="navbar-dropdown">
                            
                            <a href="/tartanplanningseries/" class="navbar-item ">Tartan Planning Series</a>
                            
                            <a href="/tartanslamseries2/" class="navbar-item ">Tartan SLAM Series Fall Edition</a>
                            
                            <a href="/tartanslamseries/" class="navbar-item ">Tartan SLAM Series</a>
                            
                            <a href="/summer2020/" class="navbar-item ">Summer School 2020</a>
                            
                            <a href="/icra2024_offroad_workshop/" class="navbar-item ">ICRA 2024 Off-road Workshop</a>
                            
                        </div>
                    </div>
                    
                
                    
                    <a href="/datasets/" class="navbar-item ">Datasets</a>
                    
                
                    
                    <a href="/openings/" class="navbar-item ">Openings</a>
                    
                
                    
                    <a href="/contact/" class="navbar-item ">Contact</a>
                    
                
                
            </div>
        </div>
    </div>
</nav>

    
     
    


    <section class="section">
        <div class="container">
            <div class="columns">
                

                
                <div class="column is-8">
                      
  <div style="text-align: center; display: block; margin-left:auto; margin-right:auto">
    <img style="text" src="/img/posts/2023-10-26-image_sharing/image_sharing.png" alt="Image Sharing" />
</div>


<!-- Figure out the relative link to the author -->





	

	

	

	

	

	

	

	

	

	

	

	

	
		
			

<div class="content">

    <p><div style="font-size: 13px">Published: 
		<time datetime="2023-10-26T10:50:07+00:00">Oct 26, 2023</time> by 
		<div style="font-weight: bold; color: #3399ff; display: inline">
		
			<a href="/team/johnk">John Keller</a>
		
		</div>
	</div></p>

    <h1>Image Sharing</h1>

    <p>The image sharing library allows a user to transfer images between processes on an Nvidia Jetson computer. It
has lower latency, higher FPS, drops less images, and uses less CPU than ROS. There are C++ and
Python versions of the library. It uses a publisher subscriber paradigm and is designed to be as similar
to ROS as possible. Also for image sharing, a publisher publishes a set of time synced images that are
received as a list of images on the subscriber side. This avoids the ROS method where a special group
of synced subscribers have to be created with the message_filters library and different callbacks are
needed for different numbers of images. It includes the following features:</p>

<ul>
  <li>
    <p>Argus camera driver. This uses Nvidia’s Argus API to receive images from a camera and puts
them directly into the format that the image sharing library uses for transferring images between processes.</p>
  </li>
  <li>
    <p>Tools for converting to and from ROS image messages.</p>
  </li>
  <li>
    <p>Tools for converting to and from gstreamer. For example, it can be converted to gstreamer to log images to mp4 or stream over a network.</p>
  </li>
  <li>
    <p>Interoperability with OpenCV, CUDA, VPI, and Numpy.</p>
  </li>
  <li>
    <p>Quickly resize, rotate, crop, scale, and copy images without using the CPU.</p>
  </li>
  <li>
    <p>Non-Jetson version for development without having to use a Jetson computer. This is a version
of the image sharing library for non-Jetson computers which has the same C++ API so that
development can be done without having to use a Jetson computer. It transfers images between
processes in an inefficient way and is purely for development. It is also not compatible with
CUDA and VPI in the same way that the Jetson version is.</p>
  </li>
</ul>

<p>There are example programs showing everything listed above.</p>

<p>Image sharing is compatible with L4T 32.7.1 on the Xavier NX and L4T 35.1.0 on the Orin AGX.</p>

<p>Please contact us if you are interested in adopting the library.</p>

<h2 id="performance">Performance</h2>

<p>The graphs below show performance comparisons between image sharing and ROS for transferring
images between processes on a Xavier NX. There is one node that publishes 1 megapixel images at 60
Hz obtained from between 1 and 6 cameras using Nvidia’s Argus camera API and a second node that
subscribes to the images. There are two versions of the nodes, one version using image sharing and the
other using ROS.</p>

<p>The “Delay” graph shows the milliseconds of delay from when a set of images was published in the
publisher node to when they were received in the callback of the subscriber node. For six images on a
Xavier NX, the delay is 18 ms for image sharing and 82ms for ROS. Image sharing has 4.5 times less
delay. For six images on an Orin AGX, the delay is 14ms for image sharing and 64ms for ROS. Image
sharing has 4.6 times less delay.</p>

<p>In the “Published and Dropped Images” graph, an image is considered dropped if it was published by
the image publisher node but wasn’t received by the subscriber node. For the Xavier NX with six
cameras, 152 images are dropped with image sharing versus 491 dropped with ROS, a 3.2 times
improvement. On the Orin AGX with six cameras, only 1 image is dropped with image sharing versus
252 dropped with ROS.The “FPS” graph shows how many sets of synced images are received per second by the subscriber
node. For the Xavier NX with six cameras, the FPS is 56.9 for image sharing and 4.5 for ROS, a 12.8
times improvement. For the Orin AGX with six cameras, the FPS is 60 for image sharing and 12 for
ROS, a 5 times improvement. ROS is significantly worse because it’s high CPU usage makes it less
likely that images will be received from the camera and also less likely that once they are received from
the camera, that they will make it to the subscriber. Since all six images are required for the subscriber
to be triggered, missing just a single image will result in that whole group of images not being used.</p>

<p>The “CPU Usage” graph shows the CPU usage of the publisher and subscriber nodes, where 100%
means that one core is being used. For both the Xavier NX and Orin AGX with six cameras, ROS uses
close to 100% CPU for the publisher node versus 70% for image sharing. For the subscriber nodes,
ROS uses 26% on the Xavier and 27% on the Orin versus 20% on the Xavier and 16% for image
sharing. Image sharing uses less CPU for both the publisher and subscriber nodes than ROS, even
though image sharing is publishing and receiving significantly more images than ROS.</p>

<figure>
 <img src="/img/posts/2023-10-26-image_sharing/Orin_AGX_1_MP_60_Hz_.png" alt="Orin AGX" />
</figure>

<figure>
 <img src="/img/posts/2023-10-26-image_sharing/Xavier_NX_1_MP_60_Hz_.png" alt="Xavier NX" />
</figure>

</div>

<div class="tags">
    
</div>


  

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://theairlab.org/research/2023/10/26/image_sharing/';
      this.page.identifier = 'https://theairlab.org/research/2023/10/26/image_sharing/';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://theairlab.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



                </div>
                
                <div class="column is-4-desktop is-12-tablet">
                    <p class="title is-4">Latest Research</p>

<div class="columns is-multiline">
    
    <div class="column is-12">
        
<a href="https://seungchan-kim.github.io/multi-robot-multi-room" target="_blank">

<div class="card" style="height: 100%; display: flex; flex-direction: column; align-items: center;">
    
        <div style="height: 200px;">
            <img src="/img/posts/2023-12-06-multirobot-multiroom/mrmr_intro_fig.png" alt="Multi-Robot Multi-Room Exploration with Geometric Cue Extraction and Circular Decomposition" style="object-fit: contain; height: 100%;">
        </div>
    
    <div class="card-content" style="flex-grow: 3;">
        <div class="content">
            
            <div class="title is-5">Multi-Robot Multi-Room Exploration with Geometric Cue Extraction and Circular Decomposition</div>
            
            <p>This work proposes an autonomous multi-robot exploration pipeline that coordinates the behaviors ...</p>
        </div>
    </div>
    <footer class="card-footer">
        <p class="card-footer-item">Published: Dec 6, 2023</p>
    </footer>
</div>
</a>

    </div>
    
    <div class="column is-12">
        
<a href="https://spla-tam.github.io/" target="_blank">

<div class="card" style="height: 100%; display: flex; flex-direction: column; align-items: center;">
    
        <div style="height: 200px;">
            <img src="/img/posts/2023-12-04-splatam/SplaTAM.png" alt="SplaTAM: Splat, Track & Map 3D Gaussians for Dense RGB-D SLAM" style="object-fit: contain; height: 100%;">
        </div>
    
    <div class="card-content" style="flex-grow: 3;">
        <div class="content">
            
            <div class="title is-5">SplaTAM: Splat, Track & Map 3D Gaussians for Dense RGB-D SLAM</div>
            
            <p>Precise camera tracking &amp; high-fidelity reconstruction of challenging real-world scenarios.</p>
        </div>
    </div>
    <footer class="card-footer">
        <p class="card-footer-item">Published: Dec 4, 2023</p>
    </footer>
</div>
</a>

    </div>
    
    <div class="column is-12">
        
<a href="https://anyloc.github.io/FoundLoc/" target="_blank">

<div class="card" style="height: 100%; display: flex; flex-direction: column; align-items: center;">
    
        <div style="height: 200px;">
            <img src="/img/posts/2023-11-24-foundloc/FoundLoc.png" alt="FoundLoc: Vision-based Onboard Aerial Localization in the Wild" style="object-fit: contain; height: 100%;">
        </div>
    
    <div class="card-content" style="flex-grow: 3;">
        <div class="content">
            
            <div class="title is-5">FoundLoc: Vision-based Onboard Aerial Localization in the Wild</div>
            
            <p>GPS-denied localization with no initial assumption of position (kidnapped robot problem).</p>
        </div>
    </div>
    <footer class="card-footer">
        <p class="card-footer-item">Published: Nov 24, 2023</p>
    </footer>
</div>
</a>

    </div>
    
</div>




                </div>
                
            </div>
        </div>
    </section>
     <style>
  #blocks {
      width:100%;
      height:60px;
      margin:0 auto;
      /* background-color: #ffe; */
  }
  #block1 {
      height:33.33%;
      width:30%;
      /* background: red; */
      float: left;
  }
  #block2 {
      height:33.33%;
      width:40%;
      /* background: yellow; */
      float: left;
  }
  #block3 {
      height:33.33%;
      width:30%;
      /* background: green; */
      float: right;
  }
</style>

<footer class="footer">
    <div class="container">
        <!-- 
        <div class="columns is-multiline">
            
            <div class="column has-text-centered">
                <div>
                    <a href="/" class="link">Home</a>
                </div>
            </div>
            
            <div class="column has-text-centered">
                <div>
                    <a href="/blog/" class="link">Blog</a>
                </div>
            </div>
            
            <div class="column has-text-centered">
                <div>
                    <a href="/products/" class="link">Products</a>
                </div>
            </div>
            
            <div class="column has-text-centered">
                <div>
                    <a href="/privacy-policy/" class="link">Privacy Policy</a>
                </div>
            </div>
            
        </div>
         -->
        <div id="blocks">
          <div id="block1"><img src="/img/logos/Horizontal@2x.png" alt="AirLab Logo" style="width:60%;"></div>
          <div id="block2">
            <center>

              <!-- <a class="button" itemprop="email" href="https://www.facebook.com" target="_blank">
                <i class="fab fa-github"></i>
              </a> -->
              <a class="button" itemprop="linkedin" href="https://www.linkedin.com/company/the-air-lab-at-carnegie-mellon-university" target="_blank">
                <i class="fab fa-linkedin fa-lg" style="height:100%;"></i>
              </a>
              <a class="button" itemprop="youtube" href="https://www.youtube.com/@airlab" target="_blank">
                <i class="fab fa-youtube fa-lg" style="height:100%;"></i>
              </a>
              <a class="button" itemprop="twitter" href="https://www.twitter.com/airlabcmu/" target="_blank">
                <i class="fab fa-twitter fa-lg"></i>
              </a>
              <a class="button" itemprop="medium" href="https://medium.com/airlabcmu" target="_blank">
                <i class="fab fa-medium fa-lg"></i>
              </a>
              <a class="button" itemprop="github" href="https://github.com/castacks" target="_blank">
                <i class="fab fa-github fa-lg"></i>
              </a>
              <a class="button" itemprop="bitbucket" href="https://bitbucket.org/castacks/" target="_blank">
                <i class="fab fa-bitbucket fa-lg"></i>
              </a>
              <br>
              <br>
              <p class="">&copy; 2023 | Built using the <a href="https://github.com/chrisrhymes/bulma-clean-theme">Bulma Clean Theme</a></p>
            </center>
          </div>
          <div id="block3"><img src="/img/riLogo2019.svg" alt="RI Logo" style="float: right;"></div>
        </div>
        <!-- <div>
          <a href="" class="button is-large"><div class="icon"><i class="fab fa-facebook"</i></div></a>
        </div> -->
        <!-- <div class="content is-small has-text-centered">
            <p class="">© 2020</p>
        </div> -->
    </div>


</footer>
 
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts --></body>

</html>
